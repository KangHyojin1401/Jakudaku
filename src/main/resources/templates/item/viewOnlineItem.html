<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>온라인 상품 상세페이지</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/button.min.css" integrity="sha512-OD0ScwZAE5PCg4nATXnm8pdWi0Uk0Pp2XFsFz1xbZ7xcXvapzjvcxxHPeTZKfMjvlwwl4sGOvgJghWF2GRZZDw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/sticky.min.css" integrity="sha512-zF2HEUhQSw0Cb7RtcIc9qx8SKuAvNl8wzA542h55r+COkQ/xBkkcMvqdzQ9NApKQxiluCRmmjFAs5oDlTPsOOw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/menu.min.css" integrity="sha512-ox96Q1iqhM5TvdY4gVbz6FXoDwsR/Q8jq15kWReQNefC+uUGCv+pkMbLOtr176K3+bfrQQv6gTDAvhL1PUw2YQ==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/item.min.css" integrity="sha512-FegoQ4GicaEtaxCERXNNFN0eloN0wsebNJ8E0kwIJSKBGgfNWFhO0oQhzVPywJt19SwiF4eN/CvDvIKhgIyuhw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/rating.min.css" integrity="sha512-RFEUlwT70pTUPWqm2Uv8cpqeLisUAM7YWG/LIrXcZo7F0zgvp3TbViqX6xQz0Oou++N9AcwpogmEf8sDuN/OoQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- jQuery 1.8 or later, 33 KB -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"
	type="text/javascript"></script>
<!-- Fotorama from CDNJS, 19 KB -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css"
	rel="stylesheet">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js"
	type="text/javascript"></script>
<style>
.ui.fixed.sticky + p {
  margin-top: 39px;
}
</style>
</head>
<body>

	<!-- 상품 미리보기 -->
	<div th:object="${online}">
		<div class="fotorama" data-width="300" data-ratio="3/2"
			data-nav="thumbs" data-thumbheight="48">
			<a href="http://s.fotorama.io/okonechnikov/1-lo.jpg"><img src="" width="144" height="96" alt=""></a>
			<a href="http://s.fotorama.io/okonechnikov/2-lo.jpg"><img src="" width="144" height="96" alt=""></a>
			<a href="http://s.fotorama.io/okonechnikov/3-lo.jpg"><img src="" height="96" alt=""></a>
			<a href="http://s.fotorama.io/okonechnikov/4-lo.jpg"><img src="" height="96" alt=""></a> 
		</div>
		<p><span th:text="*{name}">솜솜</span></p>
		<p><span th:text="*{price} + '원'">30000원</span></p>
		<p>
			<div class="ui star rating" data-rating="0" data-max-rating="5"></div>
			<span th:text="'(' + *{totalRate} + ')'">(4.08)</span> <!-- Item DTO, 테이블에 totalRate 추가해야 함 -->
			<a href="#review"><span th:text="'총 ' + *{totalReview} + '건의 후기'">총 337건의 후기</span></a> 
		
		
		<div class="ui labeled button" tabindex="0">
 			<div class="ui red button">
    		<i class="heart icon"></i> Like
  			</div>
  			<a class="ui basic red left pointing label"><span th:text="*{likeNum}">1048</span></a> <!-- 눌렀을 때 toggle 처리는 js로 & db에 어떻게 들어가게 할건지..? 누를 때마다 페이지가 새로고침될 순 없으니까 -->
		</div>
		
		<div th:if="*{pcFile}">pc버튼</div>
		<div th:unless="*{pcFile}">pc버튼</div>
		<div th:if="*{phoneFile}">phone버튼</div>
		<div th:unless="*{phoneFile}">phone버튼</div>
		<div th:if="*{tabletFile}">tablet버튼</div>
		<div th:unless="*{tabletFile}">tablet버튼</div>
		
		<p>
			<div class="ui large blue button"><a href="#" th:href="@{/user/addItemToCart.do(itemId=${online.itemId})}" style="all: none;">장바구니</a></div> <!-- redirection으로 request 파라미터(itemId) 넘기기 -->
			<div class="ui large blue button" onclick="document.location='구매 주문 페이지'">구매하기</div> <!-- forwarding으로 하는 방법, 구매 주문 페이지 수정해야 함-->
	
		
		<div class="ui segment">
	  		<div class="ui sticky" style="width: 670px !important; height: 42.6px !important; left: 417.8px;">
	    		<div class="ui fluid three item tabular menu">
	      		<a class="active item" href="#description">상세설명</a>
	      		<a class="item" th:text="'리뷰(' + ${online.totalReview} + ')'" href="#review">리뷰(337)</a>
	      		<a class="item" href="#refund">환불 안내</a>
	    		</div>
			</div>
<!-- 			<div class="ui active tab"> -->
<!-- 			    <p><a id="description">상세 설명 시작</a></p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p><a id="review">리뷰 시작</a></p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p><a id="refund">환불 안내 시작</a></p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			    <p>d</p> -->
<!-- 			</div> -->
			<div class="ui active tab">
			    <p><a id="description">상세 설명 시작</a></p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			</div>
			<div class="ui active tab">
			 	<p><a id="review">리뷰 시작</a></p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			</div>
			<div class="ui active tab">
			    <p><a id="refund">환불 안내 시작</a></p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    <p>d</p>
			    </div>
		</div>
	</div>
	
	
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js" integrity="sha512-dqw6X88iGgZlTsONxZK9ePmJEFrmHwpuMrsUChjAw1mRUhUITE5QU9pkcSox+ynfLhL15Sv2al5A0LVyDCmtUw==" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/sticky.min.js" integrity="sha512-sWpXObBFGM42aj1IMnpgU4aUY5K3MYAmvR2QeVAo4zorR/IrNxIW1E9sAp95AKZ9TUGuxItlzCxZdLchz/rkoA==" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/rating.min.js" integrity="sha512-GKPaQJKsw7I5CTRr27RvbXXpv/kulDkVilCQmqQen2doK07UxhEQLnSe2ozB/8yTJ8x6ofF63FXfIpYnETz9Jw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>
	$('.ui.sticky')
	  .sticky()
	;
	
	$('.ui.rating')
	  .rating('disable')
	  .rating('set rating', /*[[${session.user.name}]]*/)
	;
	</script>
</body>
</html>